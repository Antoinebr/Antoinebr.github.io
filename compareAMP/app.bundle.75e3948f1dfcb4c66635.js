!function(e){function n(n){for(var t,r,i=n[0],o=n[1],c=0,l=[];c<i.length;c++)r=i[c],a[r]&&l.push(a[r][0]),a[r]=0;for(t in o)Object.prototype.hasOwnProperty.call(o,t)&&(e[t]=o[t]);for(s&&s(n);l.length;)l.shift()()}var t={},a={0:0};function r(n){if(t[n])return t[n].exports;var a=t[n]={i:n,l:!1,exports:{}};return e[n].call(a.exports,a,a.exports,r),a.l=!0,a.exports}r.e=function(e){var n=[],t=a[e];if(0!==t)if(t)n.push(t[2]);else{var i=new Promise(function(n,r){t=a[e]=[n,r]});n.push(t[2]=i);var o,c=document.getElementsByTagName("head")[0],s=document.createElement("script");s.charset="utf-8",s.timeout=120,r.nc&&s.setAttribute("nonce",r.nc),s.src=function(e){return r.p+""+e+".app.bundle.75e3948f1dfcb4c66635.js"}(e),o=function(n){s.onerror=s.onload=null,clearTimeout(l);var t=a[e];if(0!==t){if(t){var r=n&&("load"===n.type?"missing":n.type),i=n&&n.target&&n.target.src,o=new Error("Loading chunk "+e+" failed.\n("+r+": "+i+")");o.type=r,o.request=i,t[1](o)}a[e]=void 0}};var l=setTimeout(function(){o({type:"timeout",target:s})},12e4);s.onerror=s.onload=o,c.appendChild(s)}return Promise.all(n)},r.m=e,r.c=t,r.d=function(e,n,t){r.o(e,n)||Object.defineProperty(e,n,{enumerable:!0,get:t})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,n){if(1&n&&(e=r(e)),8&n)return e;if(4&n&&"object"==typeof e&&e&&e.__esModule)return e;var t=Object.create(null);if(r.r(t),Object.defineProperty(t,"default",{enumerable:!0,value:e}),2&n&&"string"!=typeof e)for(var a in e)r.d(t,a,function(n){return e[n]}.bind(null,a));return t},r.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(n,"a",n),n},r.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},r.p="",r.oe=function(e){throw console.error(e),e};var i=window.webpackJsonp=window.webpackJsonp||[],o=i.push.bind(i);i.push=n,i=i.slice();for(var c=0;c<i.length;c++)n(i[c]);var s=o;r(r.s=0)}([function(e,n,t){e.exports=t(1)},function(e,n,t){"use strict";t.r(n);t(2);const a=document.querySelector("form"),r=(e,n)=>{null!==document.querySelector(".errors-msg")&&a.removeChild(document.querySelector(".errors-msg")),a.insertAdjacentHTML("beforeend",`<p class="errors-msg msg--${n} u-pts u-pbs u-pls u-prs">${e}</p>`)},i=()=>{const e=a.querySelector("button");e.disabled?(e.innerHTML="Compare the two URLs",e.disabled=!1):(e.innerHTML="Loading URL comparison...",e.disabled=!0)},o=document.querySelectorAll('input[type="checkbox"]');if(o.forEach(e=>e.addEventListener("click",function(e){o.forEach(e=>e.checked=!1),this.checked=!0})),a.addEventListener("submit",async function(e){e.preventDefault(),i();let[n,o,c]=await Promise.all([t.e(1).then(t.t.bind(null,3,7)),t.e(2).then(t.t.bind(null,4,7)),t.e(3).then(t.bind(null,5))]);n=n.default,o=o.default,c=c.default;const s=this.cannonicalURL.value,l=this.ampURL.value;if(!o(this.cannonicalURL.value))return r("The Cannonical URL is not a valid URL","error"),!1;if(!o(this.ampURL.value))return r("The AMP URL is not a valid URL","error"),!1;a.insertAdjacentHTML("beforeend",'<svg class="spinner u-dbma" width="65px" height="65px" viewBox="0 0 66 66" xmlns="http://www.w3.org/2000/svg">\n\t\t\t<circle class="path" fill="none" stroke-width="6" stroke-linecap="round" cx="33" cy="33" r="30"></circle>\n\t</svg>'),console.log();const d=document.querySelector(".iframe-container");if(d.innerHTML="",d.insertAdjacentHTML("afterbegin",'\n\n\t<h2 class="cannonical"> Canonical </h2> \n\t\t\t\t\n\t<h2 class="amp"> AMP </h2>\n\t\n\t'),this.forceIframeMode.checked&&(d.insertAdjacentHTML("beforeend",`<iframe id="iframe-amp" class="u-shadowS" width="412" height="12000" src="https://iframereplacement.speedwat.ch/?url=${this.ampURL.value}" frameborder="0"></iframe>`),d.insertAdjacentHTML("beforeend",` <iframe id="iframe-canonical" class="u-shadowS" width="412" height="12000" src="https://iframereplacement.speedwat.ch/?url=${this.cannonicalURL.value}" frameborder="0"></iframe> `),r("We are forcing the site to display inside iFrames ! <strong>This can lead to visual differences</strong>","warning")),this.screenshotsOnlyMode.checked&&(d.insertAdjacentHTML("beforeend",`<img id="iframe-canonical" class="u-shadowS" width="412px" src="https://puppeteer.speedwat.ch/screenshot/?url=${this.cannonicalURL.value}" />`),d.insertAdjacentHTML("beforeend",`<img id="iframe-amp" class="u-shadowS" width="412px" src="https://puppeteer.speedwat.ch/screenshot/?url=${this.ampURL.value}" />`),r("You are in screenshot only mode ","success"),d.style.visibility="hidden",await c(".iframe-container"),d.style.visibility="visible"),this.autoMode.checked){const{cannonicalCanBeIframed:e,ampCanBeIframed:n}=await(async(e,n)=>{let[t,a]=await Promise.all([fetch(`https://authorizeiframe.speedwat.ch/url/?url=${e}`),fetch(`https://authorizeiframe.speedwat.ch/url/?url=${n}`)]);const r=await t.json(),i=await a.json();return{cannonicalCanBeIframed:r.canBeIframed,ampCanBeIframed:i.canBeIframed}})(this.cannonicalURL.value,this.ampURL.value).catch(console.log);if(e?d.insertAdjacentHTML("beforeend",` <iframe id="iframe-canonical" class="u-shadowS" width="412" height="12000" src="${this.cannonicalURL.value}" frameborder="0"></iframe> `):d.insertAdjacentHTML("beforeend",`<img id="iframe-canonical" class="u-shadowS" width="412px" src="https://puppeteer.speedwat.ch/screenshot/?url=${this.cannonicalURL.value}" />`),n?d.insertAdjacentHTML("beforeend",`<iframe id="iframe-amp" class="u-shadowS" width="412" height="12000" src="${this.ampURL.value}" frameborder="0"></iframe>`):d.insertAdjacentHTML("beforeend",`<img id="iframe-amp" class="u-shadowS" width="412px" src="https://puppeteer.speedwat.ch/screenshot/?url=${this.ampURL.value}" />`),!e||!n){let t="";e||(t="for the cannonical page only"),n||(t="for the ⚡️ amp page only"),e||n||(t="for both pages"),r(`The site blocked iframes ! We are falling back on screenshots <strong>${t}</strong>!`,"warning"),d.style.visibility="hidden",await c(".iframe-container"),d.style.visibility="visible"}}null!==document.querySelector(".spinner")&&a.removeChild(document.querySelector(".spinner")),i(),n(".iframe-container",{offset:-200,duration:700}),window.location.hash=`?ampURL=${l}&cannonicalURL=${s}`}),""!==window.location.hash&&window.location.hash.includes("ampURL")&&window.location.hash.includes("cannonicalURL")){const e=window.location.hash.replace("#",""),n=new URLSearchParams(e);n.has("ampURL")&&n.has("cannonicalURL")&&(a.cannonicalURL.value=n.get("cannonicalURL"),a.ampURL.value=n.get("ampURL"),document.querySelector("form button").click())}},function(e,n,t){}]);