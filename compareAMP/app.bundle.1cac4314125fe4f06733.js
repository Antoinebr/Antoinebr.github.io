!function(e){function t(t){for(var n,a,i=t[0],o=t[1],s=0,l=[];s<i.length;s++)a=i[s],r[a]&&l.push(r[a][0]),r[a]=0;for(n in o)Object.prototype.hasOwnProperty.call(o,n)&&(e[n]=o[n]);for(c&&c(t);l.length;)l.shift()()}var n={},r={0:0};function a(t){if(n[t])return n[t].exports;var r=n[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,a),r.l=!0,r.exports}a.e=function(e){var t=[],n=r[e];if(0!==n)if(n)t.push(n[2]);else{var i=new Promise(function(t,a){n=r[e]=[t,a]});t.push(n[2]=i);var o,s=document.getElementsByTagName("head")[0],c=document.createElement("script");c.charset="utf-8",c.timeout=120,a.nc&&c.setAttribute("nonce",a.nc),c.src=function(e){return a.p+""+e+".app.bundle.1cac4314125fe4f06733.js"}(e),o=function(t){c.onerror=c.onload=null,clearTimeout(l);var n=r[e];if(0!==n){if(n){var a=t&&("load"===t.type?"missing":t.type),i=t&&t.target&&t.target.src,o=new Error("Loading chunk "+e+" failed.\n("+a+": "+i+")");o.type=a,o.request=i,n[1](o)}r[e]=void 0}};var l=setTimeout(function(){o({type:"timeout",target:c})},12e4);c.onerror=c.onload=o,s.appendChild(c)}return Promise.all(t)},a.m=e,a.c=n,a.d=function(e,t,n){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},a.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(a.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)a.d(n,r,function(t){return e[t]}.bind(null,r));return n},a.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="",a.oe=function(e){throw console.error(e),e};var i=window.webpackJsonp=window.webpackJsonp||[],o=i.push.bind(i);i.push=t,i=i.slice();for(var s=0;s<i.length;s++)t(i[s]);var c=o;a(a.s=0)}([function(e,t,n){e.exports=n(2)},function(e,t,n){},function(e,t,n){"use strict";n.r(t);n(1);var r=Array.prototype.slice,a=/url\(\s*(['"]?)(.*?)\1\s*\)/g,i=function(e){return e.replace(/([a-z])-([a-z])/g,function(e,t,n){return""+t+n.toUpperCase()})},o=function(e){return new Promise(function(t){var n=e.element,r=e.img,a=e.src;r.complete&&void 0!==r.naturalWidth&&t(n);var i=r;i.onload=function(){return t(n)},i.onerror=function(){return t(n)},void 0!==a&&void 0===n.src&&(i.src=a)})};var s=function(e,t){"string"==typeof e&&(e=document.querySelectorAll(e));var n=e instanceof NodeList?r.call(e):[].concat(e);t=Object.assign({props:[],attrs:[]},t);var s=Array.isArray(t.props)&&t.props.length,c=Array.isArray(t.attrs)&&t.attrs.length,l=[];return n.forEach(function(e){var n=e.nodeType;if(n&&-1!==[1,9,11].indexOf(n)){var o=void 0;o=s||c?e.getElementsByTagName("*"):e.getElementsByTagName("img");var u=r.call(o);u.unshift(e),u.forEach(function(e){if(e instanceof HTMLImageElement&&l.push({element:e,img:e}),s){var n=getComputedStyle(e);if(!n)return;t.props.forEach(function(t){t=i(t);for(var r=a.exec(n[t]);null!==r;){var o={element:e,img:new Image,src:r[2]};l.push(o),r=a.exec(n[t])}})}c&&t.attrs.forEach(function(t){if("string"==typeof t){var n=e.getAttribute(t);null!==n&&l.push({element:e,img:new Image,src:n})}})})}}),Promise.all(l.map(o))};const c=document.querySelector("form"),l=(e,t)=>{null!==document.querySelector(".errors-msg")&&c.removeChild(document.querySelector(".errors-msg")),c.insertAdjacentHTML("beforeend",`<p class="errors-msg msg--${t} u-pts u-pbs u-pls u-prs">${e}</p>`)},u=()=>{const e=c.querySelector("button");e.disabled?(e.innerHTML="Compare the two URLs",e.disabled=!1):(e.innerHTML="Loading URL comparison...",e.disabled=!0)};if(c.addEventListener("submit",async function(e){e.preventDefault(),u();let[t,r]=await Promise.all([n.e(1).then(n.t.bind(null,15,7)),n.e(2).then(n.t.bind(null,16,7))]);t=t.default,r=r.default;const a=this.cannonicalURL.value,i=this.ampURL.value;if(!r(this.cannonicalURL.value))return l("The Cannonical URL is not a valid URL","error"),!1;if(!r(this.ampURL.value))return l("The AMP URL is not a valid URL","error"),!1;const o=await(async(e,t)=>{let[n,r]=await Promise.all([fetch(`https://authorizeiframe.speedwat.ch/url/?url=${e}`),fetch(`https://authorizeiframe.speedwat.ch/url/?url=${t}`)]);const a=await n.json(),i=await r.json();return!(!a.canBeIframed||!i.canBeIframed)})(this.cannonicalURL.value,this.ampURL.value).catch(console.log),f=document.querySelector(".iframe-container");f.classList.add("big"),o||(l("The site blocked iframes ! We are falling back on screenshots !","warning"),f.innerHTML="",f.insertAdjacentHTML("afterbegin",`\n\n\t\t\t<h2 class="cannonical"> Canonical </h2> \n\t\t\t\t\t\t\n\t\t\t<h2 class="amp"> AMP </h2>\n\n\t\t\t<img id="iframe-canonical" class="u-shadowS" width="412px" src="https://puppeteer.speedwat.ch/screenshot/?url=${this.cannonicalURL.value}" />\n\t\t\t\n\t\t\t<img id="iframe-amp" class="u-shadowS" width="412px" src="https://puppeteer.speedwat.ch/screenshot/?url=${this.ampURL.value}" />\n\t\t`),c.insertAdjacentHTML("beforeend",'<svg class="spinner u-dbma" width="65px" height="65px" viewBox="0 0 66 66" xmlns="http://www.w3.org/2000/svg">\n\t\t\t<circle class="path" fill="none" stroke-width="6" stroke-linecap="round" cx="33" cy="33" r="30"></circle>\n\t</svg>'),f.style.visibility="hidden",await s(".iframe-container"),null!==document.querySelector(".spinner")&&c.removeChild(document.querySelector(".spinner")),u(),f.style.visibility="visible"),o&&(u(),f.innerHTML="",f.insertAdjacentHTML("afterbegin",`\n\n\t\t\t<h2 class="cannonical"> Canonical </h2> \n\t\t\t\t\t\t\t\n\t\t\t<h2 class="amp"> AMP </h2>\n\n\t\t\t<iframe id="iframe-canonical" class="u-shadowS" width="412" height="12000" src="${this.cannonicalURL.value}" frameborder="0"></iframe>\n\t\t\t\n\t\t\t<iframe id="iframe-amp" class="u-shadowS" width="412" height="12000" src="${this.ampURL.value}" frameborder="0"></iframe>\n\t\t\t\n\t\t`)),t(".iframe-container",{offset:-200,duration:700}),window.location.hash=`${i}[-vs-]${a}`}),""!==window.location.hash&&window.location.hash.includes("[-vs-]")){const[e,t]=window.location.hash.replace("#","").split("[-vs-]");c.cannonicalURL.value=e,c.ampURL.value=t,document.querySelector("form button").click()}}]);